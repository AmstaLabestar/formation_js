<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>

        // 1. Ensemble avec Set (noms uniques)
let utilisateurs = new Set();

utilisateurs.add("Ali");
utilisateurs.add("Sita");
utilisateurs.add("Ali");  // doublon, ignorÃ© automatiquement

console.log("ğŸ‘¥ Utilisateurs connectÃ©s (Set) :", utilisateurs);
// â†’ Set { 'Ali', 'Sita' }

// 2. CrÃ©ation d'objets utilisateurs
let user1 = { nom: "Ali" };
let user2 = { nom: "Sita" };
let user3 = { nom: "Ali" };  // mÃªme nom, autre objet (autre rÃ©fÃ©rence)

// 3. Ensemble temporaire avec WeakSet
let dejaVerifies = new WeakSet();

dejaVerifies.add(user1);
dejaVerifies.add(user2);

console.log("âœ”ï¸ user1 vÃ©rifiÃ© ?", dejaVerifies.has(user1));  // true
console.log("âŒ user3 vÃ©rifiÃ© ?", dejaVerifies.has(user3));  // false

// 4. Simulation de suppression
user1 = null;  // L'objet sera libÃ©rÃ© automatiquement (garbage collected)

// pas possible de faire Ã§a â†“â†“â†“
// for (let u of dejaVerifies) {}   // âŒ TypeError






// ____________________________________________________________________________________________________

// ğŸ”¹ DonnÃ©es de dÃ©part
const inscriptions = [
  "ali@gmail.com",
  "maria@yahoo.fr",
  "ali@gmail.com",
  "sita@outlook.com",
  "maria@yahoo.fr",
  "ali@gmail.com",
];

// ğŸ”¹ PARTIE A â€“ Supprimer les doublons avec Set
const uniques = [...new Set(inscriptions)];

console.log("ğŸ“¬ Emails uniques :", uniques);
// RÃ©sultat attendu : ["ali@gmail.com", "maria@yahoo.fr", "sita@outlook.com"]


// ğŸ”¸ PARTIE B â€“ Compter les occurrences avec reduce
const statistiques = inscriptions.reduce((acc, email) => {
  if (acc[email]) {
    acc[email] += 1; // L'email existe dÃ©jÃ , on incrÃ©mente
  } else {
    acc[email] = 1;  // PremiÃ¨re apparition, on initialise Ã  1
  }
  return acc;
}, {}); // On part dâ€™un objet vide {}

console.log("ğŸ“Š Statistiques des inscriptions :", statistiques);
// RÃ©sultat attendu : {
//   "ali@gmail.com": 3,
//   "maria@yahoo.fr": 2,
//   "sita@outlook.com": 1
// }


    </script>
</body>
</html>